pipeline {
    agent any 
    environment {
        version = "1.0"
    }
    stages {
        stage('Build') {
        
         agent any

        environment {
            logs = "info"
        }
        steps {
             echo "Building version ${version} with log level ${logs}..."
        }
        }
        stage('Test') {
        
         agent any

        environment {
            logs = "info"
        }
        steps {
             echo "Building version ${version} with log level ${logs}..."
        }
        }
        stage('Deploy') {
            steps {
            echo "Building version ${version} with log level ${target}..."
        }

            input {
                message 'Deploy'
                ok 'Do deployment'
                submitter 'sid'
                parameters {
                    string defaultValue: 'dev', description: 'target deployment', name: 'target'
                }
        }
        }
    }

  post {
    failure {
      echo "job failed"
    }
  }
}
   
